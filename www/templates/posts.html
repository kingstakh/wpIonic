<ion-view view-title="Posts">
  <ion-content lazy-scroll>
  <ion-refresher on-refresh="doRefresh()"></ion-refresher>
	<ion-list>
		<ion-item ng-repeat="post in posts track by $index" href="#/app/posts/{{post.id}}" track>
			<img image-lazy-src="{{post.better_featured_image.media_details.sizes.medium.source_url}}" image-lazy-loader="android">
			<h2 ng-bind-html="post.title.rendered"></h2>
			<p ng-if="post.excerpt.rendered" ng-bind-html="post.excerpt.rendered"></p>
			<p>Posted: <span am-time-ago="post.date"></span></p>
		</ion-item>
	</ion-list>

	<ion-infinite-scroll
	ng-if="moreDataExists()"
    on-infinite="loadMore()"
    distance="1%"
    immediate-check="false">
  </ion-infinite-scroll>

  </ion-content>
</ion-view>
